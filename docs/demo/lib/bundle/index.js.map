{"version":3,"file":"index.js","sources":["../../../../dist/js/utilities/getHashCode.js","../../../../dist/js/utilities/getRandomString.js","../../../../dist/js/utilities/noop.js","../../../../dist/js/dom/document/generateIds.js","../../../../dist/js/dom/document/getUrlFullPath.js","../../../../dist/js/dom/document/getUrlOrigin.js","../../../../dist/js/dom/document/loadResource.js","../../../../dist/js/core/componentEvent.js","../../../../dist/js/core/component.js","../../../../dist/js/core/children/communications/communicationEvent.js","../../../../dist/js/core/children/communications/communicationHandler.js","../../../../dist/js/core/children/communications/containerCommunicationHandler.js","../../../../dist/js/core/children/communications/contentCommunicationHandler.js","../../../../dist/js/core/children/childComponent.js","../../../../dist/js/core/children/childComponentType.js","../../../../dist/js/core/children/inWindow/inWindowCommunicationManager.js","../../../../dist/js/core/children/inWindow/inWindowContainerCommunicationHandler.js","../../../../dist/js/core/children/inWindow/inWindowChildComponent.js","../../../../dist/js/core/children/childComponentFactory.js","../../../../dist/js/core/componentOptions.js","../../../../dist/js/core/children/childComponentOptions.js","../../../../dist/js/core/children/crossWindow/crossWindowChildComponent.js","../../../../dist/js/core/children/inWindow/inWindowContentComunicationHandler.js","../../../../dist/js/core/resourceConfiguration.js","../../../../dist/js/core/rootComponentFacade.js","../../../../dist/js/core/rootComponent.js","../../../../dist/js/core/rootComponentOptions.js"],"sourcesContent":["/**\r\n * Get a hash code for the given string\r\n * @returns The has code\r\n */\r\nfunction getHashCode(value) {\r\n    let hash = 0;\r\n    let length = value.length;\r\n    let char;\r\n    let index = 0;\r\n    if (length === 0)\r\n        return hash;\r\n    while (index < length) {\r\n        char = value.charCodeAt(index);\r\n        hash = ((hash << 5) - hash) + char;\r\n        hash |= 0; // Convert to 32bit integer\r\n        index++;\r\n    }\r\n    return hash;\r\n}\r\nexport { getHashCode };\r\n//# sourceMappingURL=getHashCode.js.map","/**\r\n * Generate a random string\r\n * @returns A random generated string\r\n */\r\nfunction getRandomString() { return Math.random().toString(36).substring(2); }\r\nexport { getRandomString };\r\n//# sourceMappingURL=getRandomString.js.map","export function noop() { }\r\n//# sourceMappingURL=noop.js.map","import { getRandomString } from '../../utilities/index';\r\n/**\r\n * Generate a random id that is not present in the document at this time\r\n * @param document The reference to the document object\r\n * @returns A random generated string\r\n */\r\nfunction generateUniqueId(document, prefix = '') {\r\n    const prefixString = (prefix !== null && prefix !== void 0 ? prefix : '');\r\n    while (true) {\r\n        // The 'A-' will ensure this is always a valid JavaScript ID\r\n        const id = prefixString + 'A-' + getRandomString() + getRandomString();\r\n        if (document.getElementById(id) === null) {\r\n            return id;\r\n        }\r\n    }\r\n}\r\nexport { generateUniqueId };\r\n//# sourceMappingURL=generateIds.js.map","/**\r\n * Return the full path of an url (the origin and path name)\r\n * @param document The reference to the document object\r\n * @param url The ´url´ for which to get the full path\r\n * @returns A string representing the url full path\r\n */\r\nfunction getUrlFullPath(document, url) {\r\n    if (!url)\r\n        return '';\r\n    const a = document.createElement('a');\r\n    a.setAttribute('href', url);\r\n    return a.protocol + \"//\" + a.hostname + (a.port && \":\" + a.port) + a.pathname;\r\n}\r\nexport { getUrlFullPath };\r\n//# sourceMappingURL=getUrlFullPath.js.map","/**\r\n * Return the origin of an url\r\n * @param document The reference to the document object\r\n * @param url The ´url´ for which to get the 'origin'\r\n * @returns A string representing the url origin\r\n */\r\nfunction getUrlOrigin(document, url) {\r\n    if (!url)\r\n        return '';\r\n    const a = document.createElement('a');\r\n    a.setAttribute('href', url);\r\n    return a.protocol + \"//\" + a.hostname + (a.port && \":\" + a.port);\r\n}\r\nexport { getUrlOrigin };\r\n//# sourceMappingURL=getUrlOrigin.js.map","export function loadResource(document, url, isScript = true, skipLoading, attributes) {\r\n    if (skipLoading && skipLoading())\r\n        return Promise.resolve();\r\n    return new Promise((resolve, reject) => {\r\n        let resource;\r\n        if (isScript) {\r\n            resource = document.createElement('script');\r\n            resource.src = url;\r\n        }\r\n        else {\r\n            resource = document.createElement('link');\r\n            resource.href = url;\r\n        }\r\n        if (attributes) {\r\n            const keys = Object.keys(attributes);\r\n            for (let index = 0; index < keys.length; index++) {\r\n                const key = keys[index];\r\n                resource.setAttribute(key, attributes[key]);\r\n            }\r\n        }\r\n        resource.addEventListener('load', () => resolve());\r\n        resource.addEventListener('error', () => reject(new Error(`Script load error for url: ${url}.`)));\r\n        document.head.appendChild(resource);\r\n    });\r\n}\r\n//# sourceMappingURL=loadResource.js.map","export var ComponentEventType;\r\n(function (ComponentEventType) {\r\n    ComponentEventType[\"BeforeCreate\"] = \"beforeCreate\";\r\n    ComponentEventType[\"Created\"] = \"created\";\r\n    ComponentEventType[\"BeforeMount\"] = \"beforeMount\";\r\n    ComponentEventType[\"Mounted\"] = \"mounted\";\r\n    ComponentEventType[\"BeforeUpdate\"] = \"beforeUpdate\";\r\n    ComponentEventType[\"Updated\"] = \"updated\";\r\n    ComponentEventType[\"BeforeDestroy\"] = \"beforeDestroy\";\r\n    ComponentEventType[\"Destroyed\"] = \"destroyed\";\r\n    ComponentEventType[\"Error\"] = \"error\";\r\n})(ComponentEventType || (ComponentEventType = {}));\r\nexport class ComponentEvent {\r\n    constructor(id, type, el, parentEl, error) {\r\n        this.id = id;\r\n        this.type = type;\r\n        this.el = el;\r\n        this.parentEl = parentEl;\r\n        this.error = error;\r\n        this.timestamp = new Date();\r\n    }\r\n}\r\n//# sourceMappingURL=componentEvent.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { generateUniqueId, loadResource } from '../dom/index';\r\nimport { ComponentEvent, ComponentEventType } from './componentEvent';\r\nexport class Component {\r\n    constructor(window, options) {\r\n        if (!window)\r\n            throw new Error('Missing \"window\" argument.');\r\n        if (!options)\r\n            throw new Error('Missing \"options\" argument.');\r\n        this.isInitialized = false;\r\n        this.isMounted = false;\r\n        this.resourcesLoaded = false;\r\n        this.id = '';\r\n        this.rootElement = null;\r\n        this.window = window;\r\n        this.options = options;\r\n        this.disposed = false;\r\n    }\r\n    createRootElement() {\r\n        if (this.rootElement)\r\n            return;\r\n        const parent = this.getParentElement();\r\n        this.rootElement = this.getDocument().createElement(this.getOptions().tag);\r\n        this.id = generateUniqueId(this.getDocument(), 'ufe-');\r\n        this.rootElement.id = this.id;\r\n        parent.appendChild(this.rootElement);\r\n    }\r\n    getParentElement() {\r\n        let parent = null;\r\n        const opt = this.getOptions();\r\n        if (opt.parent) {\r\n            if (typeof opt.parent === 'string') {\r\n                parent = this.getDocument().querySelector(opt.parent);\r\n            }\r\n            else {\r\n                parent = opt.parent;\r\n            }\r\n        }\r\n        if (!parent)\r\n            throw new Error(`Failed to find parent \"${opt.parent}\".`);\r\n        return parent;\r\n    }\r\n    loadResources() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.resourcesLoaded)\r\n                return;\r\n            this.resourcesLoaded = true;\r\n            const options = this.getOptions();\r\n            if (options.resources && options.resources.length > 0) {\r\n                const document = this.getDocument();\r\n                for (let index = 0; index < options.resources.length; index++) {\r\n                    const resource = options.resources[index];\r\n                    // DO NOT LOAD ALL AT ONCE AS YOU MIHGT HAVE DEPENDENCIES\r\n                    // AND A RESOURCE MIGHT LOAD BEFORE IT'S DEPENDENCY\r\n                    yield loadResource(document, resource.url, resource.isScript, resource.skip, resource.attributes);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getOptions() {\r\n        return this.options;\r\n    }\r\n    getWindow() { return this.window; }\r\n    getDocument() { return this.getWindow().document; }\r\n    initializeCore() { return Promise.resolve(); }\r\n    mountCore() {\r\n        // This needs to be handled by each component\r\n        // this.callHandler(ComponentEventType.Mounted);\r\n        return Promise.resolve();\r\n    }\r\n    disposeCore() { return Promise.resolve(); }\r\n    callErrorHandler(e) {\r\n        var _a;\r\n        const handler = (_a = this.options.handlers) === null || _a === void 0 ? void 0 : _a.error;\r\n        if (handler) {\r\n            try {\r\n                handler(new ComponentEvent(this.id, ComponentEventType.Error, this.rootElement, this.getParentElement(), e));\r\n            }\r\n            catch (error) {\r\n                this.log(error);\r\n            }\r\n        }\r\n        else {\r\n            this.log(e);\r\n        }\r\n    }\r\n    callHandler(type) {\r\n        if (type === ComponentEventType.Error)\r\n            throw new Error(`For calling the \"${ComponentEventType.Error}\" handler use the \"callErrorHandler\" method.`);\r\n        const handler = this.options.handlers\r\n            ? this.options.handlers[type]\r\n            : null;\r\n        if (handler) {\r\n            try {\r\n                handler(new ComponentEvent(this.id, type, this.rootElement, this.getParentElement(), null));\r\n            }\r\n            catch (error) {\r\n                this.callErrorHandler(error);\r\n            }\r\n        }\r\n    }\r\n    log(message, ...optionalParams) {\r\n        var _a, _b;\r\n        const logMethod = (_b = (_a = this.window) === null || _a === void 0 ? void 0 : _a.console) === null || _b === void 0 ? void 0 : _b.log;\r\n        if (logMethod)\r\n            logMethod(message, optionalParams);\r\n    }\r\n    initialize() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.isInitialized)\r\n                return this;\r\n            this.callHandler(ComponentEventType.BeforeCreate);\r\n            this.isInitialized = true;\r\n            try {\r\n                yield this.loadResources();\r\n                this.createRootElement();\r\n                yield this.initializeCore();\r\n            }\r\n            catch (e) {\r\n                this.callErrorHandler(e);\r\n            }\r\n            this.callHandler(ComponentEventType.Created);\r\n            return this;\r\n        });\r\n    }\r\n    mount() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.isInitialized) {\r\n                this.callErrorHandler(new Error(`Call \"initialize\" before calling \"mount\".`));\r\n                return this;\r\n            }\r\n            if (this.isMounted)\r\n                return this;\r\n            this.callHandler(ComponentEventType.BeforeMount);\r\n            this.isMounted = true;\r\n            try {\r\n                yield this.mountCore();\r\n            }\r\n            catch (e) {\r\n                this.callErrorHandler(e);\r\n            }\r\n            return this;\r\n        });\r\n    }\r\n    dispose() {\r\n        var _a, _b;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.disposed)\r\n                return;\r\n            this.callHandler(ComponentEventType.BeforeDestroy);\r\n            this.disposed = true;\r\n            try {\r\n                yield this.disposeCore();\r\n            }\r\n            catch (e) {\r\n                this.callErrorHandler(e);\r\n            }\r\n            this.callHandler(ComponentEventType.Destroyed);\r\n            this.id = '';\r\n            this.isInitialized = false;\r\n            this.isMounted = false;\r\n            this.resourcesLoaded = false;\r\n            (_b = (_a = this.rootElement) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(this.rootElement);\r\n            this.rootElement = null;\r\n            this.window = null;\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=component.js.map","export var CommunicationEventKind;\r\n(function (CommunicationEventKind) {\r\n    CommunicationEventKind[\"Mounted\"] = \"mounted\";\r\n    CommunicationEventKind[\"BeforeUpdate\"] = \"beforeUpdate\";\r\n    CommunicationEventKind[\"Updated\"] = \"updated\";\r\n    CommunicationEventKind[\"BeforeDispose\"] = \"beforeDispose\";\r\n    CommunicationEventKind[\"Disposed\"] = \"disposed\";\r\n})(CommunicationEventKind || (CommunicationEventKind = {}));\r\nexport class CommunicationEvent {\r\n    constructor(kind) {\r\n        this.kind = kind;\r\n    }\r\n}\r\nCommunicationEvent.CONTENT_EVENT_TYPE = 'content_event.communication.children.validide_micro_front_ends';\r\nCommunicationEvent.CONTAINER_EVENT_TYPE = 'container_event.communication.children.validide_micro_front_ends';\r\n//# sourceMappingURL=communicationEvent.js.map","export class CommunicationHandler {\r\n    constructor(inboundType, endpoint, manager) {\r\n        this.inboundType = inboundType;\r\n        this.endpoint = endpoint;\r\n        this.manager = manager;\r\n        this.handlerAction = this.handleEvent.bind(this);\r\n        this.disposed = false;\r\n        this.attachCommandHandler();\r\n    }\r\n    handleEvent(e) {\r\n        if (!this.manager)\r\n            return;\r\n        const evt = this.manager.readEvent(e);\r\n        if (!evt)\r\n            return;\r\n        this.handleEventCore(evt);\r\n    }\r\n    attachCommandHandler() {\r\n        if (!this.endpoint || !this.handlerAction)\r\n            return;\r\n        this.endpoint.addEventListener(this.inboundType, this.handlerAction);\r\n    }\r\n    detachCommandHandler() {\r\n        if (!this.endpoint || !this.handlerAction)\r\n            return;\r\n        this.endpoint.removeEventListener(this.inboundType, this.handlerAction);\r\n    }\r\n    dispatchEvent(information) {\r\n        if (!this.manager)\r\n            return;\r\n        this.manager.dispatchEvent(information);\r\n    }\r\n    dispose() {\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        if (this.handlerAction) {\r\n            this.detachCommandHandler();\r\n        }\r\n        this.handlerAction = null;\r\n        if (this.manager) {\r\n            this.manager.dispose();\r\n        }\r\n        this.manager = null;\r\n        this.disposeCore();\r\n    }\r\n}\r\n//# sourceMappingURL=communicationHandler.js.map","import { CommunicationHandler } from './communicationHandler';\r\nimport { noop } from '../../../utilities/noop';\r\nimport { CommunicationEventKind, CommunicationEvent } from './communicationEvent';\r\nexport class ContainerCommunicationHandlerMethods {\r\n    constructor() {\r\n        this.callMounterHandler = noop;\r\n        this.callBeforeUpdateHandler = noop;\r\n        this.callUpdatedHandler = noop;\r\n        this.contentBeginDisposed = noop;\r\n        this.contentDisposed = noop;\r\n    }\r\n}\r\nexport class ContainerCommunicationHandler extends CommunicationHandler {\r\n    constructor(type, endpoint, manager, wrapperMethods) {\r\n        super(type, endpoint, manager);\r\n        this.wrapperMethods = wrapperMethods;\r\n    }\r\n    handleEventCore(e) {\r\n        if (!this.wrapperMethods)\r\n            return;\r\n        switch (e.kind) {\r\n            case CommunicationEventKind.Mounted:\r\n                this.wrapperMethods.callMounterHandler();\r\n                break;\r\n            case CommunicationEventKind.BeforeUpdate:\r\n                this.wrapperMethods.callBeforeUpdateHandler();\r\n                break;\r\n            case CommunicationEventKind.Updated:\r\n                this.wrapperMethods.callUpdatedHandler();\r\n                break;\r\n            case CommunicationEventKind.BeforeDispose:\r\n                this.wrapperMethods.contentBeginDisposed();\r\n                break;\r\n            case CommunicationEventKind.Disposed:\r\n                this.wrapperMethods.contentDisposed();\r\n                break;\r\n            default:\r\n                throw new Error(`The \"${e.kind}\" event is not configured.`);\r\n        }\r\n    }\r\n    disposeCore() {\r\n        this.wrapperMethods = null;\r\n    }\r\n    requestContentDispose() {\r\n        this.dispatchEvent(new CommunicationEvent(CommunicationEventKind.BeforeDispose));\r\n    }\r\n}\r\n//# sourceMappingURL=containerCommunicationHandler.js.map","import { CommunicationHandler } from './communicationHandler';\r\nimport { CommunicationEvent, CommunicationEventKind } from './communicationEvent';\r\nexport class ContentCommunicationHandler extends CommunicationHandler {\r\n    constructor(type, endpoint, manager, disposeCommandCallback) {\r\n        super(type, endpoint, manager);\r\n        this.disposeCommandCallback = disposeCommandCallback;\r\n    }\r\n    handleEventCore(e) {\r\n        switch (e.kind) {\r\n            case CommunicationEventKind.BeforeDispose:\r\n            case CommunicationEventKind.Disposed:\r\n                if (this.disposeCommandCallback) {\r\n                    this.disposeCommandCallback();\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`The \"${e.kind}\" event is not configured.`);\r\n        }\r\n    }\r\n    dispatchMounted() {\r\n        this.dispatchEvent(new CommunicationEvent(CommunicationEventKind.Mounted));\r\n    }\r\n    dispatchBeforeUpdate() {\r\n        this.dispatchEvent(new CommunicationEvent(CommunicationEventKind.BeforeUpdate));\r\n    }\r\n    dispatchUpdated() {\r\n        this.dispatchEvent(new CommunicationEvent(CommunicationEventKind.Updated));\r\n    }\r\n    dispatchBeforeDispose() {\r\n        this.dispatchEvent(new CommunicationEvent(CommunicationEventKind.BeforeDispose));\r\n    }\r\n    dispatchDisposed() {\r\n        this.dispatchEvent(new CommunicationEvent(CommunicationEventKind.Disposed));\r\n    }\r\n    disposeCore() {\r\n        this.disposeCommandCallback = null;\r\n    }\r\n}\r\n//# sourceMappingURL=contentCommunicationHandler.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Component } from '../component';\r\nimport { ComponentEventType } from '../componentEvent';\r\nimport { ContainerCommunicationHandlerMethods } from './communications/index';\r\nexport class ChildComponent extends Component {\r\n    constructor(window, options, rootFacade) {\r\n        super(window, options);\r\n        this.rootFacade = rootFacade;\r\n        this.communicationHandler = null;\r\n        this.contentDisposePromise = null;\r\n        this.contentDisposePromiseResolver = null;\r\n    }\r\n    getCommunicationHandler() {\r\n        const methods = new ContainerCommunicationHandlerMethods();\r\n        methods.callMounterHandler = () => this.callHandler(ComponentEventType.Mounted);\r\n        methods.callBeforeUpdateHandler = () => this.callHandler(ComponentEventType.BeforeUpdate);\r\n        methods.callUpdatedHandler = () => this.callHandler(ComponentEventType.Updated);\r\n        methods.contentBeginDisposed = () => this.contentBeginDisposed();\r\n        methods.contentDisposed = () => this.contentDisposed();\r\n        return this.getCommunicationHandlerCore(methods);\r\n    }\r\n    getOptions() {\r\n        return super.getOptions();\r\n    }\r\n    contentBeginDisposed() {\r\n        if (this.contentDisposePromise !== null)\r\n            return; // Dispose has already started.\r\n        this.setContentDisposePromise();\r\n        // Inform parent the content is beeing disposed.\r\n        this.rootFacade.signalDisposed(this);\r\n    }\r\n    startDisposingContent() {\r\n        if (this.contentDisposePromise !== null)\r\n            return; // Dispose has already started.\r\n        this.setContentDisposePromise();\r\n        // This should trigger the child component dispose.\r\n        this.communicationHandler.requestContentDispose();\r\n    }\r\n    setContentDisposePromise() {\r\n        if (this.contentDisposePromise !== null)\r\n            return;\r\n        this.contentDisposePromise = Promise\r\n            .race([\r\n            new Promise((resolver, rejecter) => {\r\n                this.contentDisposePromiseResolver = resolver;\r\n            }),\r\n            new Promise((resolveTimeout, rejectTimeout) => {\r\n                this\r\n                    .getWindow()\r\n                    .setTimeout(() => rejectTimeout(`Child dispose timeout.`), this.getOptions().contentDisposeTimeout);\r\n            })\r\n        ])\r\n            .catch((err) => {\r\n            this.callErrorHandler(err);\r\n        });\r\n    }\r\n    contentDisposed() {\r\n        if (this.contentDisposePromiseResolver === null) {\r\n            // For some reason we got the disposed call without getting the 'beginDispose' call.\r\n            this.contentDisposePromise = Promise.resolve();\r\n            this.rootFacade.signalDisposed(this);\r\n        }\r\n        else {\r\n            this.contentDisposePromiseResolver();\r\n        }\r\n    }\r\n    initializeCore() {\r\n        if (!this.communicationHandler) {\r\n            this.communicationHandler = this.getCommunicationHandler();\r\n        }\r\n        return super.initializeCore();\r\n    }\r\n    disposeCore() {\r\n        const _super = Object.create(null, {\r\n            disposeCore: { get: () => super.disposeCore }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.startDisposingContent();\r\n            yield this.contentDisposePromise;\r\n            if (this.communicationHandler) {\r\n                this.communicationHandler.dispose();\r\n                this.communicationHandler = null;\r\n            }\r\n            this.contentDisposePromiseResolver = null;\r\n            this.contentDisposePromise = null;\r\n            yield _super.disposeCore.call(this);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=childComponent.js.map","export var ChildComponentType;\r\n(function (ChildComponentType) {\r\n    ChildComponentType[\"InWindow\"] = \"inWindow\";\r\n    ChildComponentType[\"CrossWindow\"] = \"crossWindow\";\r\n})(ChildComponentType || (ChildComponentType = {}));\r\n//# sourceMappingURL=childComponentType.js.map","export class InWindowCommunicationManager {\r\n    constructor(el, inboundEventType, outboundEventType) {\r\n        this.el = el;\r\n        this.inboundEventType = inboundEventType;\r\n        this.outboundEventType = outboundEventType;\r\n    }\r\n    readEvent(e) {\r\n        if (!e || e.type !== this.inboundEventType)\r\n            return null;\r\n        return e.detail;\r\n    }\r\n    dispatchEvent(detail) {\r\n        if (!this.el)\r\n            return;\r\n        this.el.dispatchEvent(new CustomEvent(this.outboundEventType, { detail: detail }));\r\n    }\r\n    dispose() {\r\n        this.el = null;\r\n    }\r\n}\r\n//# sourceMappingURL=inWindowCommunicationManager.js.map","import { CommunicationEvent, ContainerCommunicationHandler } from '../communications/index';\r\nimport { InWindowCommunicationManager } from './inWindowCommunicationManager';\r\nexport class InWindowContainerCommunicationHandler extends ContainerCommunicationHandler {\r\n    constructor(el, wrapperMethods) {\r\n        super(CommunicationEvent.CONTENT_EVENT_TYPE, el, new InWindowCommunicationManager(el, CommunicationEvent.CONTENT_EVENT_TYPE, CommunicationEvent.CONTAINER_EVENT_TYPE), wrapperMethods);\r\n    }\r\n}\r\n//# sourceMappingURL=inWindowContainerCommunicationHandler.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { ChildComponent } from '../childComponent';\r\nimport { InWindowContainerCommunicationHandler } from './inWindowContainerCommunicationHandler';\r\nexport class InWindowChildComponent extends ChildComponent {\r\n    constructor(window, options, rootFacade) {\r\n        super(window, options, rootFacade);\r\n    }\r\n    getCommunicationHandlerCore(methods) {\r\n        return new InWindowContainerCommunicationHandler(this.rootElement, methods);\r\n    }\r\n    mountCore() {\r\n        const _super = Object.create(null, {\r\n            mountCore: { get: () => super.mountCore }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.getOptions().inject(this.rootElement);\r\n            yield _super.mountCore.call(this);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=inWindowChildComponent.js.map","import { ChildComponentType } from './childComponentType';\r\nimport { InWindowChildComponent } from './inWindow/inWindowChildComponent';\r\nexport class ChildComponentFactory {\r\n    createComponent(window, options, rootFacade) {\r\n        switch (options.type) {\r\n            case ChildComponentType.InWindow:\r\n                return new InWindowChildComponent(window, options, rootFacade);\r\n            default:\r\n                throw new Error(`The \"${options.type}\" is not configured.`);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=childComponentFactory.js.map","import { ComponentEventType } from './componentEvent';\r\nexport class ComponentEventHandlers {\r\n}\r\nComponentEventType.BeforeCreate, ComponentEventType.Created, ComponentEventType.BeforeMount, ComponentEventType.Mounted, ComponentEventType.BeforeUpdate, ComponentEventType.Updated, ComponentEventType.BeforeDestroy, ComponentEventType.Destroyed, ComponentEventType.Error;\r\nexport class ComponentOptions {\r\n    constructor() {\r\n        this.parent = 'body';\r\n        this.tag = 'div';\r\n        this.handlers = new ComponentEventHandlers();\r\n        this.resources = [];\r\n    }\r\n}\r\n//# sourceMappingURL=componentOptions.js.map","import { ChildComponentType } from './childComponentType';\r\nimport { ComponentOptions } from '../componentOptions';\r\nexport class ChildComponentOptions extends ComponentOptions {\r\n    constructor() {\r\n        super();\r\n        this.type = ChildComponentType.InWindow;\r\n        this.contentDisposeTimeout = 3000;\r\n        this.inject = () => { throw new Error('Inject method not defined!'); };\r\n    }\r\n}\r\n//# sourceMappingURL=childComponentOptions.js.map","export class CrossWindowChildComponent {\r\n}\r\n//# sourceMappingURL=crossWindowChildComponent.js.map","import { ContentCommunicationHandler, CommunicationEvent } from '../communications/index';\r\nimport { InWindowCommunicationManager } from './inWindowCommunicationManager';\r\nexport class InWindowContentCommunicationHandler extends ContentCommunicationHandler {\r\n    constructor(el, disposeCommandCallback) {\r\n        super(CommunicationEvent.CONTAINER_EVENT_TYPE, el, new InWindowCommunicationManager(el, CommunicationEvent.CONTAINER_EVENT_TYPE, CommunicationEvent.CONTENT_EVENT_TYPE), disposeCommandCallback);\r\n    }\r\n}\r\n//# sourceMappingURL=inWindowContentComunicationHandler.js.map","export class ResourceConfiguration {\r\n    constructor() {\r\n        this.url = '';\r\n        this.isScript = true;\r\n        this.skip = () => { return false; };\r\n    }\r\n}\r\n//# sourceMappingURL=resourceConfiguration.js.map","export class RootComponentFacade {\r\n    constructor(signalDisposed) {\r\n        this.signalDisposed = signalDisposed;\r\n    }\r\n}\r\n//# sourceMappingURL=rootComponentFacade.js.map","import { RootComponentFacade } from './rootComponentFacade';\r\nimport { getRandomString } from '../utilities/index';\r\nimport { Component } from './component';\r\nimport { ComponentEventType } from './componentEvent';\r\nexport class RootComponent extends Component {\r\n    constructor(window, options) {\r\n        super(window, options);\r\n        this.children = {};\r\n    }\r\n    scheduleDisposeChild(child) {\r\n        // Schedule this later\r\n        this.getWindow().setTimeout(() => {\r\n            this.disposeChildByRef(child);\r\n        }, 0);\r\n    }\r\n    getChildId(child) {\r\n        const childIds = Object.keys(this.children);\r\n        for (let index = 0; index < childIds.length; index++) {\r\n            const id = childIds[index];\r\n            if (this.children[id] === child) {\r\n                return id;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    disposeChildByRef(child) {\r\n        return this.disposeChild(this.getChildId(child));\r\n    }\r\n    disposeChild(childId) {\r\n        const child = childId\r\n            ? this.children[childId]\r\n            : null;\r\n        if (!child)\r\n            return Promise.resolve();\r\n        return child\r\n            .dispose()\r\n            .then(() => {\r\n            this.children[childId] = null;\r\n        });\r\n    }\r\n    mountCore() {\r\n        this.callHandler(ComponentEventType.Mounted);\r\n        return super.mountCore();\r\n    }\r\n    addChild(options) {\r\n        if (!this.isMounted)\r\n            throw new Error('Wait for the component to mount before starting to add children.');\r\n        const child = this.options.childFactory.createComponent(this.getWindow(), options, new RootComponentFacade((child) => this.scheduleDisposeChild(child)));\r\n        let id;\r\n        do {\r\n            id = 'c_' + getRandomString();\r\n        } while (Object.keys(this.children).indexOf(id) !== -1);\r\n        this.children[id] = child;\r\n        this.getWindow().setTimeout(() => {\r\n            child\r\n                .initialize()\r\n                .then((t) => t.mount());\r\n        }, 0);\r\n        return id;\r\n    }\r\n    removeChild(childId) {\r\n        this.getWindow().setTimeout(() => {\r\n            this.disposeChild(childId);\r\n        }, 0);\r\n    }\r\n}\r\n//# sourceMappingURL=rootComponent.js.map","import { ComponentOptions } from \"./componentOptions\";\r\nimport { ChildComponentFactory } from \"./children/childComponentFactory\";\r\nexport class RootComponentOptions extends ComponentOptions {\r\n    constructor() {\r\n        super();\r\n        this.tag = 'script';\r\n        this.childFactory = new ChildComponentFactory();\r\n    }\r\n}\r\n//# sourceMappingURL=rootComponentOptions.js.map"],"names":["ComponentEventType","this","CommunicationEventKind","__awaiter","ChildComponentType"],"mappings":"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"}