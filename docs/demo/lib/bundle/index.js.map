{"version":3,"file":"index.js","sources":["../../../../dist/js/utilities/getHashCode.js","../../../../dist/js/utilities/random.js","../../../../dist/js/utilities/noop.js","../../../../dist/js/dom/document/generateIds.js","../../../../dist/js/dom/document/getUrlFullPath.js","../../../../dist/js/dom/document/getUrlOrigin.js","../../../../dist/js/dom/document/loadResource.js","../../../../dist/js/core/componentEvent.js","../../../../dist/js/core/component.js","../../../../dist/js/core/children/communications/event.js","../../../../dist/js/core/children/communications/containerHandler.js","../../../../dist/js/core/children/communications/contentHandler.js","../../../../dist/js/core/children/communications/crossWindowDataContract.js","../../../../dist/js/core/children/communications/manager.js","../../../../dist/js/core/children/communications/crossWindowManager.js","../../../../dist/js/dom/document/createCustomEvent.js","../../../../dist/js/core/children/communications/htmlElementManager.js","../../../../dist/js/core/children/childComponent.js","../../../../dist/js/core/children/childComponentType.js","../../../../dist/js/core/children/inWindow/containerCommunicationHandler.js","../../../../dist/js/core/children/inWindow/childComponent.js","../../../../dist/js/core/children/crossWindow/containerCommunicationHandler.js","../../../../dist/js/core/children/crossWindow/childComponent.js","../../../../dist/js/core/componentOptions.js","../../../../dist/js/core/children/childComponentOptions.js","../../../../dist/js/core/children/crossWindow/childComponentOptions.js","../../../../dist/js/core/children/crossWindow/contentComunicationHandler.js","../../../../dist/js/core/children/childComponentFactory.js","../../../../dist/js/core/children/inWindow/childComponentOptions.js","../../../../dist/js/core/children/inWindow/contentComunicationHandler.js","../../../../dist/js/core/resourceConfiguration.js","../../../../dist/js/core/rootComponentFacade.js","../../../../dist/js/core/rootComponent.js","../../../../dist/js/core/rootComponentOptions.js"],"sourcesContent":["/**\r\n * Get a hash code for the given string\r\n * @returns The has code\r\n */\r\nfunction getHashCode(value) {\r\n    let hash = 0;\r\n    let length = value.length;\r\n    let char;\r\n    let index = 0;\r\n    if (length === 0)\r\n        return hash;\r\n    while (index < length) {\r\n        char = value.charCodeAt(index);\r\n        hash = ((hash << 5) - hash) + char;\r\n        hash |= 0; // Convert to 32bit integer\r\n        index++;\r\n    }\r\n    return hash;\r\n}\r\nexport { getHashCode };\r\n//# sourceMappingURL=getHashCode.js.map","/**\r\n * Generate a v4 UUID/GUID\r\n * @returns A random generated string\r\n */\r\nfunction getUuidV4() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}\r\n/**\r\n * Generate a random string\r\n * @returns A random generated string\r\n */\r\nfunction getRandomString() { return Math.random().toString(36).substring(2); }\r\nexport { getUuidV4, getRandomString };\r\n//# sourceMappingURL=random.js.map","/**\r\n * A function that does nothing.\r\n */\r\nexport function noop() { }\r\n//# sourceMappingURL=noop.js.map","import { getRandomString } from '../../utilities/index';\r\n/**\r\n * Generate a random id that is not present in the document at this time\r\n * @param document The reference to the document object\r\n * @returns A random generated string\r\n */\r\nfunction generateUniqueId(document, prefix = '') {\r\n    const prefixString = (prefix !== null && prefix !== void 0 ? prefix : '');\r\n    while (true) {\r\n        // The 'A-' will ensure this is always a valid JavaScript ID\r\n        const id = prefixString + 'A-' + getRandomString() + getRandomString();\r\n        if (document.getElementById(id) === null) {\r\n            return id;\r\n        }\r\n    }\r\n}\r\nexport { generateUniqueId };\r\n//# sourceMappingURL=generateIds.js.map","/**\r\n * Return the full path of an url (the origin and path name)\r\n * @param document The reference to the document object\r\n * @param url The ´url´ for which to get the full path\r\n * @returns A string representing the url full path\r\n */\r\nfunction getUrlFullPath(document, url) {\r\n    if (!url)\r\n        return '';\r\n    const a = document.createElement('a');\r\n    a.setAttribute('href', url);\r\n    return a.protocol + \"//\" + a.hostname + (a.port && \":\" + a.port) + a.pathname;\r\n}\r\nexport { getUrlFullPath };\r\n//# sourceMappingURL=getUrlFullPath.js.map","/**\r\n * Return the origin of an url\r\n * @param document The reference to the document object\r\n * @param url The ´url´ for which to get the 'origin'\r\n * @returns A string representing the url origin\r\n */\r\nfunction getUrlOrigin(document, url) {\r\n    if (!url)\r\n        return '';\r\n    const a = document.createElement('a');\r\n    a.setAttribute('href', url);\r\n    return a.protocol + \"//\" + a.hostname + (a.port && \":\" + a.port);\r\n}\r\nexport { getUrlOrigin };\r\n//# sourceMappingURL=getUrlOrigin.js.map","/**\r\n * A function to load a resource and wait for it to load.\r\n * @param document The reference to the document object.\r\n * @param url The resource URL.\r\n * @param isScript Is this resource a script or a stylesheet?\r\n * @param skipLoading Function to determine if the resource should not be loaded.\r\n * @param attributes Extra attributes to add on the HTML element before attaching it to the document.\r\n */\r\nexport function loadResource(document, url, isScript = true, skipLoading, attributes) {\r\n    if (skipLoading && skipLoading())\r\n        return Promise.resolve();\r\n    return new Promise((resolve, reject) => {\r\n        let resource;\r\n        if (isScript) {\r\n            resource = document.createElement('script');\r\n            resource.src = url;\r\n        }\r\n        else {\r\n            resource = document.createElement('link');\r\n            resource.href = url;\r\n        }\r\n        if (attributes) {\r\n            const keys = Object.keys(attributes);\r\n            for (let index = 0; index < keys.length; index++) {\r\n                const key = keys[index];\r\n                resource.setAttribute(key, attributes[key]);\r\n            }\r\n        }\r\n        resource.addEventListener('load', () => resolve());\r\n        resource.addEventListener('error', () => reject(new Error(`Script load error for url: ${url}.`)));\r\n        document.head.appendChild(resource);\r\n    });\r\n}\r\n//# sourceMappingURL=loadResource.js.map","/**\r\n * Lifecycle event types.\r\n */\r\nexport var ComponentEventType;\r\n(function (ComponentEventType) {\r\n    ComponentEventType[\"BeforeCreate\"] = \"beforeCreate\";\r\n    ComponentEventType[\"Created\"] = \"created\";\r\n    ComponentEventType[\"BeforeMount\"] = \"beforeMount\";\r\n    ComponentEventType[\"Mounted\"] = \"mounted\";\r\n    ComponentEventType[\"BeforeUpdate\"] = \"beforeUpdate\";\r\n    ComponentEventType[\"Updated\"] = \"updated\";\r\n    ComponentEventType[\"BeforeDestroy\"] = \"beforeDestroy\";\r\n    ComponentEventType[\"Destroyed\"] = \"destroyed\";\r\n    ComponentEventType[\"Error\"] = \"error\";\r\n})(ComponentEventType || (ComponentEventType = {}));\r\n/**\r\n * Evnts triggered by the components\r\n */\r\nexport class ComponentEvent {\r\n    /**\r\n     * COnstructor.\r\n     * @param id Component unique idnetifyer.\r\n     * @param type The type of event.\r\n     * @param el The componenet root element.\r\n     * @param parentEl The parent element of the component.\r\n     * @param error The error data in case this is an error event.\r\n     */\r\n    constructor(id, type, el, parentEl, error) {\r\n        this.id = id;\r\n        this.type = type;\r\n        this.el = el;\r\n        this.parentEl = parentEl;\r\n        this.error = error;\r\n        this.timestamp = new Date();\r\n    }\r\n}\r\n//# sourceMappingURL=componentEvent.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { generateUniqueId, loadResource } from '../dom/index';\r\nimport { ComponentEvent, ComponentEventType } from './componentEvent';\r\n/**\r\n * Base class for all components.\r\n */\r\nexport class Component {\r\n    /**\r\n     * Constructor\r\n     * @param window The reference to the window object\r\n     * @param options The component options\r\n     */\r\n    constructor(window, options) {\r\n        if (!window)\r\n            throw new Error('Missing \"window\" argument.');\r\n        if (!options)\r\n            throw new Error('Missing \"options\" argument.');\r\n        this.isInitialized = false;\r\n        this.isMounted = false;\r\n        this.resourcesLoaded = false;\r\n        this.id = '';\r\n        this.rootElement = null;\r\n        this.window = window;\r\n        this.options = options;\r\n        this.disposed = false;\r\n    }\r\n    /**\r\n     * Create the root element hat will \"encapsulate\" the rest of the elements.\r\n     */\r\n    createRootElement() {\r\n        if (this.rootElement)\r\n            return;\r\n        const parent = this.getParentElement();\r\n        this.rootElement = this.getDocument().createElement(this.getOptions().tag);\r\n        this.id = generateUniqueId(this.getDocument(), 'ufe-');\r\n        this.rootElement.id = this.id;\r\n        parent.appendChild(this.rootElement);\r\n    }\r\n    /**\r\n     * Get the parent element that hosts this component.\r\n     */\r\n    getParentElement() {\r\n        let parent = null;\r\n        const opt = this.getOptions();\r\n        if (opt.parent) {\r\n            if (typeof opt.parent === 'string') {\r\n                parent = this.getDocument().querySelector(opt.parent);\r\n            }\r\n            else {\r\n                parent = opt.parent;\r\n            }\r\n        }\r\n        if (!parent)\r\n            throw new Error(`Failed to find parent \"${opt.parent}\".`);\r\n        return parent;\r\n    }\r\n    /**\r\n     * Load the resources required by the compoent.\r\n     */\r\n    loadResources() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.resourcesLoaded)\r\n                return;\r\n            this.resourcesLoaded = true;\r\n            const options = this.getOptions();\r\n            if (options.resources && options.resources.length > 0) {\r\n                const document = this.getDocument();\r\n                for (let index = 0; index < options.resources.length; index++) {\r\n                    const resource = options.resources[index];\r\n                    // DO NOT LOAD ALL AT ONCE AS YOU MIHGT HAVE DEPENDENCIES\r\n                    // AND A RESOURCE MIGHT LOAD BEFORE IT'S DEPENDENCY\r\n                    yield loadResource(document, resource.url, resource.isScript, resource.skip, resource.attributes);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Get the optons data.\r\n     */\r\n    getOptions() {\r\n        return this.options;\r\n    }\r\n    /**\r\n     * Get the wndow reference.\r\n     */\r\n    getWindow() { return this.window; }\r\n    /**\r\n     * Get the document refrence.\r\n     */\r\n    getDocument() { return this.getWindow().document; }\r\n    /**\r\n     * Core initialization function.\r\n     * Any component derived should override this to add extra functionality.\r\n     */\r\n    initializeCore() { return Promise.resolve(); }\r\n    /**\r\n     * Core mount function.\r\n     * Any component derived should override this to add extra functionality.\r\n     */\r\n    mountCore() {\r\n        // This needs to be handled by each component\r\n        // this.callHandler(ComponentEventType.Mounted);\r\n        return Promise.resolve();\r\n    }\r\n    /**\r\n     * Core dispose function.\r\n     * Any component derived should override this to add clean-up after itself.\r\n     */\r\n    disposeCore() { return Promise.resolve(); }\r\n    /**\r\n     * Call the global error handler.\r\n     * @param e The error object\r\n     */\r\n    callErrorHandler(e) {\r\n        var _a;\r\n        const handler = (_a = this.options.handlers) === null || _a === void 0 ? void 0 : _a.error;\r\n        if (handler) {\r\n            try {\r\n                handler(new ComponentEvent(this.id, ComponentEventType.Error, this.rootElement, this.getParentElement(), e));\r\n            }\r\n            catch (error) {\r\n                this.log(error);\r\n            }\r\n        }\r\n        else {\r\n            this.log(e);\r\n        }\r\n    }\r\n    /**\r\n     * Call a specific event handler.\r\n     * @param type The type of handler to call.\r\n     */\r\n    callHandler(type) {\r\n        if (type === ComponentEventType.Error)\r\n            throw new Error(`For calling the \"${ComponentEventType.Error}\" handler use the \"callErrorHandler\" method.`);\r\n        const handler = this.options.handlers\r\n            ? this.options.handlers[type]\r\n            : null;\r\n        if (handler) {\r\n            try {\r\n                handler(new ComponentEvent(this.id, type, this.rootElement, this.getParentElement(), null));\r\n            }\r\n            catch (error) {\r\n                this.callErrorHandler(error);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Logging method.\r\n     * @param message The message.\r\n     * @param optionalParams Optional parameters.\r\n     */\r\n    log(message, ...optionalParams) {\r\n        var _a, _b;\r\n        const logMethod = (_b = (_a = this.window) === null || _a === void 0 ? void 0 : _a.console) === null || _b === void 0 ? void 0 : _b.log;\r\n        if (logMethod)\r\n            logMethod(message, optionalParams);\r\n    }\r\n    /**\r\n     * Method invoked to initialize the component.\r\n     * It should create the root element and any base dependencies.\r\n     */\r\n    initialize() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.isInitialized)\r\n                return this;\r\n            this.callHandler(ComponentEventType.BeforeCreate);\r\n            this.isInitialized = true;\r\n            try {\r\n                yield this.loadResources();\r\n                this.createRootElement();\r\n                yield this.initializeCore();\r\n            }\r\n            catch (e) {\r\n                this.callErrorHandler(e);\r\n            }\r\n            this.callHandler(ComponentEventType.Created);\r\n            return this;\r\n        });\r\n    }\r\n    /**\r\n     * Method invoked to mount the actual content of the component.\r\n     */\r\n    mount() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.isInitialized) {\r\n                this.callErrorHandler(new Error(`Call \"initialize\" before calling \"mount\".`));\r\n                return this;\r\n            }\r\n            if (this.isMounted)\r\n                return this;\r\n            this.callHandler(ComponentEventType.BeforeMount);\r\n            this.isMounted = true;\r\n            try {\r\n                yield this.mountCore();\r\n            }\r\n            catch (e) {\r\n                this.callErrorHandler(e);\r\n            }\r\n            return this;\r\n        });\r\n    }\r\n    /**\r\n     * Method invoked to dispose of the component.\r\n     */\r\n    dispose() {\r\n        var _a, _b;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.disposed)\r\n                return;\r\n            this.callHandler(ComponentEventType.BeforeDestroy);\r\n            this.disposed = true;\r\n            try {\r\n                yield this.disposeCore();\r\n            }\r\n            catch (e) {\r\n                this.callErrorHandler(e);\r\n            }\r\n            this.callHandler(ComponentEventType.Destroyed);\r\n            this.id = '';\r\n            this.isInitialized = false;\r\n            this.isMounted = false;\r\n            this.resourcesLoaded = false;\r\n            (_b = (_a = this.rootElement) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(this.rootElement);\r\n            this.rootElement = null;\r\n            this.window = null;\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=component.js.map","import { getUuidV4 } from '../../../utilities/random';\r\n/**\r\n * Kind of events used to comunicate between content and container component.\r\n */\r\nexport var CommunicationsEventKind;\r\n(function (CommunicationsEventKind) {\r\n    CommunicationsEventKind[\"Mounted\"] = \"mounted\";\r\n    CommunicationsEventKind[\"BeforeUpdate\"] = \"beforeUpdate\";\r\n    CommunicationsEventKind[\"Updated\"] = \"updated\";\r\n    CommunicationsEventKind[\"BeforeDispose\"] = \"beforeDispose\";\r\n    CommunicationsEventKind[\"Disposed\"] = \"disposed\";\r\n})(CommunicationsEventKind || (CommunicationsEventKind = {}));\r\n/**\r\n * Event used to comunicate between content and container component.\r\n */\r\nexport class CommunicationsEvent {\r\n    /**\r\n     * Constructor.\r\n     * @param kind The kind of event.\r\n     */\r\n    constructor(kind) {\r\n        this.kind = kind;\r\n        this.uuid = getUuidV4();\r\n        this.timestamp = new Date().getTime();\r\n        this.contentId = '';\r\n    }\r\n}\r\n/**\r\n * The type of event dispatched by the child component.\r\n */\r\nCommunicationsEvent.CONTENT_EVENT_TYPE = 'content_event.communication.children.validide_micro_front_ends';\r\n/**\r\n * The type of event dispatched by the content.\r\n */\r\nCommunicationsEvent.CONTAINER_EVENT_TYPE = 'container_event.communication.children.validide_micro_front_ends';\r\n//# sourceMappingURL=event.js.map","var _a, _b, _c, _d, _e;\r\nimport { CommunicationsEventKind, CommunicationsEvent } from './event';\r\nimport { noop } from '../../../utilities/noop';\r\n/**\r\n * The communication handler methods.\r\n */\r\nexport class ContainerCommunicationHandlerMethods {\r\n    constructor() {\r\n        /**\r\n         * Call the container to signal that the content finished mounting.\r\n         */\r\n        this[_a] = noop;\r\n        /**\r\n         * Call the container to signal an update is about to happen.\r\n         */\r\n        this[_b] = noop;\r\n        /**\r\n         * Call the container to signal an update finished.\r\n         */\r\n        this[_c] = noop;\r\n        /**\r\n         * Call the container to signal dispose started.\r\n         */\r\n        this[_d] = noop;\r\n        /**\r\n         * Call the container to signal the component has disposed(almost).\r\n         */\r\n        this[_e] = noop;\r\n    }\r\n}\r\n_a = CommunicationsEventKind.Mounted, _b = CommunicationsEventKind.BeforeUpdate, _c = CommunicationsEventKind.Updated, _d = CommunicationsEventKind.BeforeDispose, _e = CommunicationsEventKind.Disposed;\r\n/**\r\n * Handle the communications on the child component side.\r\n */\r\nexport class ContainerCommunicationHandler {\r\n    /**\r\n     * Constructor\r\n     * @param communicationsManager A communications manager.\r\n     * @param handlerMethods A collection of handler methods.\r\n     */\r\n    constructor(communicationsManager, handlerMethods) {\r\n        this.communicationsManager = communicationsManager;\r\n        this.handlerMethods = handlerMethods;\r\n        this.communicationsManager.initialize();\r\n        this.communicationsManager.setEventReceivedCallback((e) => {\r\n            this.handleEvent(e);\r\n        });\r\n        this.disposed = false;\r\n    }\r\n    /**\r\n     * Core functionality for handling the incomming events.\r\n     * @param e The event.\r\n     */\r\n    handleEventCore(e) {\r\n        if (!this.handlerMethods)\r\n            return;\r\n        const method = this.handlerMethods[e.kind];\r\n        if (!method)\r\n            return;\r\n        method();\r\n    }\r\n    /**\r\n     * Handle the incomming communications event.\r\n     * @param e The event\r\n     */\r\n    handleEvent(e) {\r\n        this.handleEventCore(e);\r\n    }\r\n    /**\r\n     * Method invoked to dispose of the handler.\r\n     */\r\n    dispose() {\r\n        var _f;\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        (_f = this.communicationsManager) === null || _f === void 0 ? void 0 : _f.dispose();\r\n        this.communicationsManager = null;\r\n        this.handlerMethods = null;\r\n    }\r\n    /**\r\n     * Reuest that the content begins disposing.\r\n     */\r\n    requestContentDispose() {\r\n        var _f;\r\n        (_f = this.communicationsManager) === null || _f === void 0 ? void 0 : _f.send(new CommunicationsEvent(CommunicationsEventKind.BeforeDispose));\r\n    }\r\n}\r\n//# sourceMappingURL=containerHandler.js.map","import { CommunicationsEventKind, CommunicationsEvent } from './event';\r\n/**\r\n * Handle the communications on the component content side.\r\n */\r\nexport class ContentCommunicationHandler {\r\n    /**\r\n     * Constructor\r\n     * @param communicationsManager A comunications manager\r\n     * @param disposeCommandCallback The callback to dispose the content.\r\n     */\r\n    constructor(communicationsManager, disposeCommandCallback) {\r\n        this.communicationsManager = communicationsManager;\r\n        this.disposeCommandCallback = disposeCommandCallback;\r\n        this.communicationsManager.initialize();\r\n        this.communicationsManager.setEventReceivedCallback((e) => {\r\n            this.handleEvent(e);\r\n        });\r\n        this.disposed = false;\r\n    }\r\n    /**\r\n     * Core functionality for handling the incomming events.\r\n     * @param e The event.\r\n     */\r\n    handleEventCore(e) {\r\n        switch (e.kind) {\r\n            case CommunicationsEventKind.BeforeDispose:\r\n            case CommunicationsEventKind.Disposed:\r\n                if (this.disposeCommandCallback) {\r\n                    this.disposeCommandCallback();\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`The \"${e.kind}\" event is not configured.`);\r\n        }\r\n    }\r\n    /**\r\n     * Handle the incomming communications event.\r\n     * @param e The event\r\n     */\r\n    handleEvent(e) {\r\n        this.handleEventCore(e);\r\n    }\r\n    /**\r\n     * Core dispose function.\r\n     * Any component derived should override this to add clean-up after itself.\r\n     */\r\n    disposeCore() { }\r\n    /**\r\n     * Dispatch event to signal mounting finished.\r\n     */\r\n    dispatchMounted() {\r\n        var _a;\r\n        (_a = this.communicationsManager) === null || _a === void 0 ? void 0 : _a.send(new CommunicationsEvent(CommunicationsEventKind.Mounted));\r\n    }\r\n    /**\r\n     * Dispatch event to signal update is about to start.\r\n     */\r\n    dispatchBeforeUpdate() {\r\n        var _a;\r\n        (_a = this.communicationsManager) === null || _a === void 0 ? void 0 : _a.send(new CommunicationsEvent(CommunicationsEventKind.BeforeUpdate));\r\n    }\r\n    /**\r\n     * Dispatch event to signal update finished.\r\n     */\r\n    dispatchUpdated() {\r\n        var _a;\r\n        (_a = this.communicationsManager) === null || _a === void 0 ? void 0 : _a.send(new CommunicationsEvent(CommunicationsEventKind.Updated));\r\n    }\r\n    /**\r\n     * Dispatch event to disposing started.\r\n     */\r\n    dispatchBeforeDispose() {\r\n        var _a;\r\n        (_a = this.communicationsManager) === null || _a === void 0 ? void 0 : _a.send(new CommunicationsEvent(CommunicationsEventKind.BeforeDispose));\r\n    }\r\n    /**\r\n     * Dispatch event to mount finished.\r\n     */\r\n    dispatchDisposed() {\r\n        var _a;\r\n        (_a = this.communicationsManager) === null || _a === void 0 ? void 0 : _a.send(new CommunicationsEvent(CommunicationsEventKind.Disposed));\r\n    }\r\n    /**\r\n     * Method invoked to dispose of the handler.\r\n     */\r\n    dispose() {\r\n        var _a;\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        this.disposeCore();\r\n        (_a = this.communicationsManager) === null || _a === void 0 ? void 0 : _a.dispose();\r\n        this.communicationsManager = null;\r\n        this.disposeCommandCallback = null;\r\n    }\r\n}\r\n//# sourceMappingURL=contentHandler.js.map","/**\r\n * The data sent between the windows directly on the Message Event.\r\n */\r\nexport class CrossWindowCommunicationDataContract {\r\n    /**\r\n     * Constructor.\r\n     * @param type Data type.\r\n     * @param detail Data detail.\r\n     */\r\n    constructor(type, detail) {\r\n        this.type = type;\r\n        this.detail = detail;\r\n    }\r\n}\r\n//# sourceMappingURL=crossWindowDataContract.js.map","/**\r\n * Comunications manager base class.\r\n */\r\nexport class CommunicationsManager {\r\n    /**\r\n     * Constructor\r\n     * @param inboundEndpoint The endpoint for receiving messages.\r\n     * @param inboundEventType The types of messages to receive.\r\n     * @param outboundEndpoint The endpoint to sent mesages.\r\n     * @param outboundEventType The messages to send.\r\n     */\r\n    constructor(inboundEndpoint, inboundEventType, outboundEndpoint, outboundEventType) {\r\n        this.inboundEndpoint = inboundEndpoint;\r\n        this.inboundEventType = inboundEventType;\r\n        this.outboundEndpoint = outboundEndpoint;\r\n        this.outboundEventType = outboundEventType;\r\n        this.onEventReceived = null;\r\n        this.eventHandler = (e) => this.handleEvent(e);\r\n        this.initialized = false;\r\n        this.disposed = false;\r\n    }\r\n    /**\r\n     * Handle the received events.\r\n     * @param e The recevied event.\r\n     */\r\n    handleEvent(e) {\r\n        const evt = this.readEvent(e);\r\n        if (evt && this.onEventReceived)\r\n            this.onEventReceived(evt);\r\n    }\r\n    /**\r\n     * Initialize the manager.\r\n     */\r\n    initializeCore() { }\r\n    /**\r\n     * Clean any resources before the manager is disposed.\r\n     */\r\n    disposeCore() { }\r\n    /**\r\n     * Send a message.\r\n     * @param event The message.\r\n     */\r\n    send(event) {\r\n        if (this.outboundEndpoint) {\r\n            this.sendEvent(this.outboundEndpoint, event);\r\n        }\r\n    }\r\n    /**\r\n     * The the callback to handle any incomming messages.\r\n     * @param callback The callback.\r\n     */\r\n    setEventReceivedCallback(callback) {\r\n        this.onEventReceived = callback;\r\n    }\r\n    /**\r\n     * Initialize the manager.\r\n     */\r\n    initialize() {\r\n        if (this.initialized)\r\n            return;\r\n        this.initialized = true;\r\n        this.initializeCore();\r\n        if (this.inboundEndpoint && this.eventHandler) {\r\n            this.startReceiving(this.inboundEndpoint, this.eventHandler);\r\n        }\r\n    }\r\n    /**\r\n     * Dispose of the manager.\r\n     */\r\n    dispose() {\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        this.initialized = true;\r\n        if (this.inboundEndpoint && this.eventHandler) {\r\n            this.stopReceiving(this.inboundEndpoint, this.eventHandler);\r\n        }\r\n        this.eventHandler = null;\r\n        this.onEventReceived = null;\r\n        this.inboundEndpoint = null;\r\n    }\r\n}\r\n//# sourceMappingURL=manager.js.map","import { CommunicationsManager } from '../communications/manager';\r\nimport { CrossWindowCommunicationDataContract } from './crossWindowDataContract';\r\n/**\r\n * @inheritdoc\r\n */\r\nexport class CrossWindowCommunicationsManager extends CommunicationsManager {\r\n    /**\r\n     * Constructor\r\n     * @param inboundEndpoint The endpoint for receiving messages.\r\n     * @param inboundEventType The types of messages to receive.\r\n     * @param outboundEndpoint The endpoint to sent mesages.\r\n     * @param outboundEventType The messages to send.\r\n     * @param origin The origin to comunicate with.\r\n     */\r\n    constructor(inboundEndpoint, inboundEventType, outboundEndpoint, outboundEventType, origin) {\r\n        super(inboundEndpoint, inboundEventType, outboundEndpoint, outboundEventType);\r\n        this.origin = origin;\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    readEvent(e) {\r\n        const messageEvent = e;\r\n        if (!messageEvent || messageEvent.origin !== this.origin)\r\n            return null;\r\n        const data = messageEvent.data;\r\n        if (!data || data.type !== this.inboundEventType)\r\n            return null;\r\n        return data.detail;\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    startReceiving(inboundEndpoint, handler) {\r\n        inboundEndpoint.addEventListener('message', handler);\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    stopReceiving(inboundEndpoint, handler) {\r\n        inboundEndpoint.removeEventListener('message', handler);\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    sendEvent(outboundEndpoint, event) {\r\n        const data = new CrossWindowCommunicationDataContract(this.outboundEventType, event);\r\n        outboundEndpoint.postMessage(data, this.origin);\r\n    }\r\n}\r\n//# sourceMappingURL=crossWindowManager.js.map","function customEventPolyfill(document, typeArg, eventInitDict) {\r\n    const params = eventInitDict || { bubbles: false, cancelable: false, detail: null };\r\n    var evt = document.createEvent('CustomEvent');\r\n    evt.initCustomEvent(typeArg, params.bubbles || false, params.cancelable || false, params.detail);\r\n    return evt;\r\n}\r\nexport function createCustomEvent(document, typeArg, eventInitDict) {\r\n    const win = document === null || document === void 0 ? void 0 : document.defaultView;\r\n    if (!win)\r\n        throw new Error('Document does not have a defualt view.');\r\n    if (typeof win.CustomEvent !== 'function') {\r\n        return new customEventPolyfill(document, typeArg, eventInitDict);\r\n    }\r\n    return new win.CustomEvent(typeArg, eventInitDict);\r\n}\r\n//# sourceMappingURL=createCustomEvent.js.map","import { CommunicationsManager } from '../communications/manager';\r\nimport { createCustomEvent } from '../../../dom/document/createCustomEvent';\r\n/**\r\n * @inheritdoc\r\n */\r\nexport class HTMLElementCommunicationsManager extends CommunicationsManager {\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    constructor(inboundEndpoint, inboundEventType, outboundEndpoint, outboundEventType) {\r\n        super(inboundEndpoint, inboundEventType, outboundEndpoint, outboundEventType);\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    readEvent(e) {\r\n        const customEvent = e;\r\n        if (!customEvent || customEvent.type !== this.inboundEventType)\r\n            return null;\r\n        return customEvent.detail;\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    startReceiving(inboundEndpoint, handler) {\r\n        inboundEndpoint.addEventListener(this.inboundEventType, handler);\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    stopReceiving(inboundEndpoint, handler) {\r\n        inboundEndpoint.removeEventListener(this.inboundEventType, handler);\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    sendEvent(outboundEndpoint, event) {\r\n        if (!outboundEndpoint.ownerDocument)\r\n            return;\r\n        const evt = createCustomEvent(outboundEndpoint.ownerDocument, this.outboundEventType, { detail: event });\r\n        outboundEndpoint.dispatchEvent(evt);\r\n    }\r\n}\r\n//# sourceMappingURL=htmlElementManager.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Component } from '../component';\r\nimport { ComponentEventType } from '../componentEvent';\r\nimport { ContainerCommunicationHandlerMethods } from './communications/index';\r\n/**\r\n * Child component base class.\r\n */\r\nexport class ChildComponent extends Component {\r\n    /**\r\n     * Constructor.\r\n     * @param window The window reference.\r\n     * @param options The child options.\r\n     * @param rootFacade The facade to the root component.\r\n     */\r\n    constructor(window, options, rootFacade) {\r\n        super(window, options);\r\n        this.rootFacade = rootFacade;\r\n        this.communicationHandler = null;\r\n        this.contentDisposePromise = null;\r\n        this.contentDisposePromiseResolver = null;\r\n    }\r\n    /**\r\n     * Get the comunication handler.\r\n     */\r\n    getCommunicationHandler() {\r\n        const methods = new ContainerCommunicationHandlerMethods();\r\n        methods.mounted = () => this.callHandler(ComponentEventType.Mounted);\r\n        methods.beforeUpdate = () => this.callHandler(ComponentEventType.BeforeUpdate);\r\n        methods.updated = () => this.callHandler(ComponentEventType.Updated);\r\n        methods.beforeDispose = () => this.contentBeginDisposed();\r\n        methods.disposed = () => this.contentDisposed();\r\n        return this.getCommunicationHandlerCore(methods);\r\n    }\r\n    /**\r\n     * Get the child component options.\r\n     */\r\n    getOptions() {\r\n        return super.getOptions();\r\n    }\r\n    /**\r\n     * Handler for the signal that the component started to dispose.\r\n     */\r\n    contentBeginDisposed() {\r\n        if (this.contentDisposePromise !== null)\r\n            return; // Dispose has already started.\r\n        this.setContentDisposePromise();\r\n        // Inform parent the content is beeing disposed.\r\n        this.rootFacade.signalDisposed(this);\r\n    }\r\n    /**\r\n     * Signal the content that it will be disposed.\r\n     */\r\n    startDisposingContent() {\r\n        if (this.contentDisposePromise !== null)\r\n            return; // Dispose has already started.\r\n        this.setContentDisposePromise();\r\n        // This should trigger the child component dispose.\r\n        this.communicationHandler.requestContentDispose();\r\n    }\r\n    /**\r\n     * Set the promise that is used fof the disposing of the component.\r\n     */\r\n    setContentDisposePromise() {\r\n        this.contentDisposePromise = Promise\r\n            .race([\r\n            new Promise((resolver, rejecter) => {\r\n                this.contentDisposePromiseResolver = resolver;\r\n            }),\r\n            new Promise((resolveTimeout, rejectTimeout) => {\r\n                this\r\n                    .getWindow()\r\n                    .setTimeout(() => rejectTimeout(new Error(`Child dispose timeout.`)), this.getOptions().contentDisposeTimeout);\r\n            })\r\n        ])\r\n            .catch((err) => {\r\n            this.callErrorHandler(err);\r\n        });\r\n    }\r\n    /**\r\n     * Handler for the signal that the content has finished disposing.\r\n     */\r\n    contentDisposed() {\r\n        if (this.contentDisposePromiseResolver === null) {\r\n            // For some reason we got the disposed call without getting the 'beginDispose' call.\r\n            this.contentDisposePromise = Promise.resolve();\r\n            this.rootFacade.signalDisposed(this);\r\n        }\r\n        else {\r\n            this.contentDisposePromiseResolver();\r\n        }\r\n    }\r\n    /**\r\n     * @@inheritdoc\r\n     */\r\n    mountCore() {\r\n        if (!this.communicationHandler) {\r\n            this.communicationHandler = this.getCommunicationHandler();\r\n        }\r\n        return super.mountCore();\r\n    }\r\n    /**\r\n     * @@inheritdoc\r\n     */\r\n    disposeCore() {\r\n        const _super = Object.create(null, {\r\n            disposeCore: { get: () => super.disposeCore }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.startDisposingContent();\r\n            yield this.contentDisposePromise;\r\n            this.communicationHandler.dispose();\r\n            this.communicationHandler = null;\r\n            this.contentDisposePromiseResolver = null;\r\n            this.contentDisposePromise = null;\r\n            yield _super.disposeCore.call(this);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=childComponent.js.map","/**\r\n * The type of child component.\r\n */\r\nexport var ChildComponentType;\r\n(function (ChildComponentType) {\r\n    /**\r\n     * In window component(JavaScript or WebComponent Custom Element)\r\n     */\r\n    ChildComponentType[\"InWindow\"] = \"inWindow\";\r\n    /**\r\n     * Cross window component(loaded in an embedable form - Iframe)\r\n     */\r\n    ChildComponentType[\"CrossWindow\"] = \"crossWindow\";\r\n})(ChildComponentType || (ChildComponentType = {}));\r\n//# sourceMappingURL=childComponentType.js.map","import { CommunicationsEvent, ContainerCommunicationHandler, HTMLElementCommunicationsManager } from '../communications/index';\r\n/**\r\n * @inheritdoc\r\n */\r\nexport class InWindowContainerCommunicationHandler extends ContainerCommunicationHandler {\r\n    constructor(el, wrapperMethods) {\r\n        super(new HTMLElementCommunicationsManager(el, CommunicationsEvent.CONTENT_EVENT_TYPE, el, CommunicationsEvent.CONTAINER_EVENT_TYPE), wrapperMethods);\r\n    }\r\n}\r\n//# sourceMappingURL=containerCommunicationHandler.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { ChildComponent } from '../childComponent';\r\nimport { InWindowContainerCommunicationHandler } from './containerCommunicationHandler';\r\n/**\r\n * In Window Child Component.\r\n */\r\nexport class InWindowChildComponent extends ChildComponent {\r\n    /**\r\n     * Constructor.\r\n     * @param window The window reference.\r\n     * @param options The child component options.\r\n     * @param rootFacade The facade to the root component.\r\n     */\r\n    constructor(window, options, rootFacade) {\r\n        super(window, options, rootFacade);\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    getCommunicationHandlerCore(methods) {\r\n        return new InWindowContainerCommunicationHandler(this.rootElement, methods);\r\n    }\r\n    /**\r\n     * Get the InWindowChildComponentOptions\r\n     */\r\n    getOptions() {\r\n        return super.getOptions();\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    mountCore() {\r\n        const _super = Object.create(null, {\r\n            mountCore: { get: () => super.mountCore }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const injectionFunction = this.getOptions().inject;\r\n            if (!injectionFunction) {\r\n                throw new Error('Inject method not defined!');\r\n            }\r\n            injectionFunction(this.rootElement);\r\n            yield _super.mountCore.call(this);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=childComponent.js.map","import { CommunicationsEvent, ContainerCommunicationHandler, CommunicationsEventKind } from '../communications/index';\r\nimport { getHashCode } from '../../../utilities/getHashCode';\r\nimport { CrossWindowCommunicationsManager } from '../communications/crossWindowManager';\r\n/**\r\n * @inheritdoc\r\n */\r\nexport class CrossWindowContainerCommunicationHandler extends ContainerCommunicationHandler {\r\n    /**\r\n     * Constructor.\r\n     * @param inboundEndpoint The inbound comunication endpoint.\r\n     * @param outboundEndpoint The outbound communication endpoint.\r\n     * @param embedId The Id of the embeded element.\r\n     * @param origin The origin to communicate with.\r\n     * @param containerMethods The methods to communicate with the container.\r\n     */\r\n    constructor(inboundEndpoint, outboundEndpoint, embedId, origin, containerMethods) {\r\n        super(new CrossWindowCommunicationsManager(inboundEndpoint, CommunicationsEvent.CONTENT_EVENT_TYPE, outboundEndpoint, CommunicationsEvent.CONTAINER_EVENT_TYPE, origin), containerMethods);\r\n        this.embedId = embedId;\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    handleEventCore(e) {\r\n        if (!this.embedId)\r\n            return;\r\n        if (!e.contentId && e.kind === CommunicationsEventKind.Mounted) {\r\n            this.attemptHandShake(e);\r\n            return;\r\n        }\r\n        if (this.embedId !== e.contentId)\r\n            return;\r\n        super.handleEventCore(e);\r\n    }\r\n    /**\r\n     * Attempt a andshake with the content.\r\n     */\r\n    attemptHandShake(e) {\r\n        var _a;\r\n        const hash = getHashCode(this.embedId).toString(10);\r\n        const response = new CommunicationsEvent(CommunicationsEventKind.Mounted);\r\n        // We got a message back so if the data matches the hash we sent send the id\r\n        if (e.data && e.data === hash) {\r\n            response.contentId = this.embedId;\r\n        }\r\n        else {\r\n            response.data = hash;\r\n        }\r\n        (_a = this.communicationsManager) === null || _a === void 0 ? void 0 : _a.send(response);\r\n    }\r\n}\r\n//# sourceMappingURL=containerCommunicationHandler.js.map","import { ChildComponent } from '../childComponent';\r\nimport { CrossWindowContainerCommunicationHandler } from './containerCommunicationHandler';\r\nimport { generateUniqueId } from '../../../dom/document/generateIds';\r\nimport { getUrlOrigin } from '../../../dom/document/getUrlOrigin';\r\n/**\r\n * Cross Window Child Component.\r\n */\r\nexport class CrossWindowChildComponent extends ChildComponent {\r\n    /**\r\n     * Constructor.\r\n     * @param window The window refrence.\r\n     * @param options The child options.\r\n     * @param rootFacade he root component facade.\r\n     */\r\n    constructor(window, options, rootFacade) {\r\n        super(window, options, rootFacade);\r\n        this.embededId = '';\r\n        this.embededLoadResolver = null;\r\n        this.embededErrorRejecter = null;\r\n        this.embededLoadPromise = new Promise((resolve, reject) => {\r\n            this.embededLoadResolver = resolve;\r\n            this.embededErrorRejecter = reject;\r\n        });\r\n        this.embededLoadHandlerRef = this.embededLoadHandler.bind(this);\r\n        this.embededErrorHandlerRef = this.embededErrorHandler.bind(this);\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    disposeCore() {\r\n        if (this.embededId) {\r\n            const embed = this.rootElement.querySelector(`#${this.embededId}`);\r\n            if (embed) {\r\n                if (this.embededLoadHandlerRef) {\r\n                    embed.removeEventListener('load', this.embededLoadHandlerRef);\r\n                }\r\n                if (this.embededErrorHandlerRef) {\r\n                    embed.removeEventListener('error', this.embededErrorHandlerRef);\r\n                }\r\n                // Do not remove the embede element now as we still need it to comunicate with the content.\r\n                // The parent \"rootElement\" will be removed latter anyhow.\r\n                // (<HTMLElement>embed.parentElement).removeChild(embed);\r\n            }\r\n        }\r\n        this.embededLoadHandlerRef = null;\r\n        this.embededErrorHandlerRef = null;\r\n        this.embededLoadResolver = null;\r\n        this.embededErrorRejecter = null;\r\n        this.embededLoadPromise = null;\r\n        return super.disposeCore();\r\n    }\r\n    /**\r\n     * Get the CrossWindowChildComponentOptions\r\n     */\r\n    getOptions() {\r\n        return super.getOptions();\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    mountCore() {\r\n        const createEmbedElementFn = this.getOptions().createEmbedElement;\r\n        let embed = null;\r\n        if (createEmbedElementFn) {\r\n            embed = createEmbedElementFn(this.rootElement);\r\n        }\r\n        else {\r\n            embed = this.createEmbedElement();\r\n        }\r\n        if (!embed)\r\n            throw new Error('Failed to create embed element!');\r\n        const embedId = generateUniqueId(this.getDocument(), 'ufe-cross-');\r\n        embed.id = embedId;\r\n        this.embededId = embedId;\r\n        if (this.embededLoadHandlerRef) {\r\n            embed.addEventListener('load', this.embededLoadHandlerRef);\r\n        }\r\n        if (this.embededErrorHandlerRef) {\r\n            embed.addEventListener('error', this.embededErrorHandlerRef);\r\n        }\r\n        this.rootElement.appendChild(embed);\r\n        return (this.embededLoadPromise)\r\n            .then(() => {\r\n            super.mountCore();\r\n        });\r\n    }\r\n    /**\r\n     *\r\n     * @param methods @inheritdoc\r\n     */\r\n    getCommunicationHandlerCore(methods) {\r\n        const document = this.getDocument();\r\n        return new CrossWindowContainerCommunicationHandler((document).defaultView, this.outboundEndpointAccesor(), this.embededId, getUrlOrigin(document, this.getOptions().url), methods);\r\n    }\r\n    /**\r\n     * Handle the loading of the embeded element.\r\n     * @param e The load event.\r\n     */\r\n    embededLoadHandler(e) {\r\n        if (this.embededLoadResolver) {\r\n            this.embededLoadResolver();\r\n        }\r\n    }\r\n    /**\r\n     * Handle the errir of the embeded element.\r\n     * @param e The error event.\r\n     */\r\n    embededErrorHandler(e) {\r\n        if (this.embededErrorRejecter) {\r\n            this.embededErrorRejecter(e.error);\r\n        }\r\n    }\r\n    /**\r\n     * Create the embeded element.\r\n     */\r\n    createEmbedElement() {\r\n        const embed = this.getDocument().createElement('iframe');\r\n        const opt = this.getOptions();\r\n        if (opt.embededAttributes) {\r\n            const keys = Object.keys(opt.embededAttributes);\r\n            for (let index = 0; index < keys.length; index++) {\r\n                const key = keys[index];\r\n                embed.setAttribute(key, opt.embededAttributes[key]);\r\n            }\r\n        }\r\n        embed.setAttribute('src', opt.url);\r\n        return embed;\r\n    }\r\n    /**\r\n     * Access the outbound comunication endpoint.\r\n     */\r\n    outboundEndpointAccesor() {\r\n        const iframe = this.rootElement.querySelector(`#${this.embededId}`);\r\n        if (!iframe)\r\n            throw new Error(`No iframe with \"${this.embededId}\" id found.`);\r\n        if (!iframe.contentWindow)\r\n            throw new Error(`iframe with \"${this.embededId}\" id does not have a \"contentWindow\"(${iframe.contentWindow}).`);\r\n        return iframe.contentWindow;\r\n    }\r\n}\r\n//# sourceMappingURL=childComponent.js.map","import { ComponentEventType } from './componentEvent';\r\n/**\r\n * Configuration object for the event handlers.\r\n */\r\nexport class ComponentEventHandlers {\r\n}\r\nComponentEventType.BeforeCreate, ComponentEventType.Created, ComponentEventType.BeforeMount, ComponentEventType.Mounted, ComponentEventType.BeforeUpdate, ComponentEventType.Updated, ComponentEventType.BeforeDestroy, ComponentEventType.Destroyed, ComponentEventType.Error;\r\n/**\r\n * Compoent configuration options.\r\n */\r\nexport class ComponentOptions {\r\n    constructor() {\r\n        this.parent = 'body';\r\n        this.tag = 'div';\r\n        this.handlers = new ComponentEventHandlers();\r\n        this.resources = [];\r\n    }\r\n}\r\n//# sourceMappingURL=componentOptions.js.map","import { ChildComponentType } from './childComponentType';\r\nimport { ComponentOptions } from '../componentOptions';\r\n/**\r\n * Child component options.\r\n */\r\nexport class ChildComponentOptions extends ComponentOptions {\r\n    constructor() {\r\n        super();\r\n        this.type = ChildComponentType.InWindow;\r\n        /**\r\n         * The the interval to wait for the component before triggering an error and the 'disposed' event.\r\n         */\r\n        this.contentDisposeTimeout = 3000;\r\n    }\r\n}\r\n//# sourceMappingURL=childComponentOptions.js.map","import { ChildComponentOptions } from '../childComponentOptions';\r\nimport { ChildComponentType } from '../childComponentType';\r\n/**\r\n * Cross Window Child Component Options.\r\n */\r\nexport class CrossWindowChildComponentOptions extends ChildComponentOptions {\r\n    /**\r\n     * Constructor.\r\n     */\r\n    constructor() {\r\n        super();\r\n        this.url = 'about:blank';\r\n        this.type = ChildComponentType.CrossWindow;\r\n    }\r\n}\r\n//# sourceMappingURL=childComponentOptions.js.map","import { CommunicationsEvent, CommunicationsEventKind, ContentCommunicationHandler } from '../communications/index';\r\nimport { CrossWindowCommunicationsManager } from '../communications/crossWindowManager';\r\n/**\r\n * @inheritdoc\r\n */\r\nexport class CrossWindowContentCommunicationHandler extends ContentCommunicationHandler {\r\n    /**\r\n     * Constructor.\r\n     * @param inboundEndpoint The inbound communication endpoint.\r\n     * @param outboundEndpoint The outbund communication endpoint.\r\n     * @param origin The origin to communicate with.\r\n     * @param disposeCommandCallback The command to dispose the content.\r\n     */\r\n    constructor(inboundEndpoint, outboundEndpoint, origin, disposeCommandCallback) {\r\n        super(new CrossWindowCommunicationsManager(inboundEndpoint, CommunicationsEvent.CONTAINER_EVENT_TYPE, outboundEndpoint, CommunicationsEvent.CONTENT_EVENT_TYPE, origin), disposeCommandCallback);\r\n        this.iframeId = '';\r\n        this.messageQueue = [];\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    disposeCore() {\r\n        this.messageQueue = [];\r\n        super.disposeCore();\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    handleEventCore(e) {\r\n        if (!this.iframeId) {\r\n            this.attemptHandShake(e);\r\n            return;\r\n        }\r\n        super.handleEventCore(e);\r\n    }\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    send(message) {\r\n        var _a;\r\n        if (this.iframeId) {\r\n            message.contentId = this.iframeId;\r\n        }\r\n        else {\r\n            if (message.kind !== CommunicationsEventKind.Mounted) {\r\n                // In case we do not have an iframeId push all events to queue,\r\n                // only Mounted are allowed to establish handshake.\r\n                this.messageQueue.push(message);\r\n                return;\r\n            }\r\n        }\r\n        (_a = this.communicationsManager) === null || _a === void 0 ? void 0 : _a.send(message);\r\n    }\r\n    /**\r\n     * Attempt a handshake with the container.\r\n     * @param e The communication event.\r\n     */\r\n    attemptHandShake(e) {\r\n        if (e.contentId) {\r\n            // Phase 2 of the handshake - we got the id.\r\n            this.iframeId = e.contentId;\r\n            // Send it again to notify parent.\r\n            const response = new CommunicationsEvent(exports.CommunicationsEventKind.Mounted);\r\n            response.contentId = this.iframeId;\r\n            this.send(response);\r\n            // Send the previously queued messages.\r\n            this.flushMessages();\r\n        }\r\n        else {\r\n            // Phase 1 of the handshake - we got the hash so send it back.\r\n            const response = new CommunicationsEvent(exports.CommunicationsEventKind.Mounted);\r\n            response.contentId = this.iframeId;\r\n            response.data = e.data;\r\n            this.send(response);\r\n        }\r\n    }\r\n    /**\r\n     * Flush all the messages that were enqueues before the handhake.\r\n     */\r\n    flushMessages() {\r\n        var _a;\r\n        for (let index = 0; index < this.messageQueue.length; index++) {\r\n            const msg = this.messageQueue[index];\r\n            msg.contentId = this.iframeId;\r\n            (_a = this.communicationsManager) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=contentComunicationHandler.js.map","import { ChildComponentType } from './childComponentType';\r\nimport { InWindowChildComponent } from './inWindow/childComponent';\r\nimport { CrossWindowChildComponent } from './crossWindow/index';\r\n/**\r\n * Factory to create child components.\r\n */\r\nexport class ChildComponentFactory {\r\n    /**\r\n     * Create a child component.\r\n     * @param window The window reference.\r\n     * @param options The child component options.\r\n     * @param rootFacade The facade for the root component.\r\n     */\r\n    createComponent(window, options, rootFacade) {\r\n        switch (options.type) {\r\n            case ChildComponentType.InWindow:\r\n                return new InWindowChildComponent(window, options, rootFacade);\r\n            case ChildComponentType.CrossWindow:\r\n                return new CrossWindowChildComponent(window, options, rootFacade);\r\n            default:\r\n                throw new Error(`The \"${options.type}\" is not configured.`);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=childComponentFactory.js.map","import { ChildComponentOptions } from '../childComponentOptions';\r\n/**\r\n * In Window Child Component Options.\r\n */\r\nexport class InWindowChildComponentOptions extends ChildComponentOptions {\r\n    /**\r\n     * Constructor.\r\n     */\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n//# sourceMappingURL=childComponentOptions.js.map","import { ContentCommunicationHandler, CommunicationsEvent } from '../communications/index';\r\nimport { HTMLElementCommunicationsManager } from '../communications/htmlElementManager';\r\n/**\r\n * @inheritdoc\r\n */\r\nexport class InWindowContentCommunicationHandler extends ContentCommunicationHandler {\r\n    /**\r\n     * Constructor.\r\n     * @param el The element to use for sending and receiving messages.\r\n     * @param disposeCommandCallback The callback for disposing the content.\r\n     */\r\n    constructor(el, disposeCommandCallback) {\r\n        super(new HTMLElementCommunicationsManager(el, CommunicationsEvent.CONTAINER_EVENT_TYPE, el, CommunicationsEvent.CONTENT_EVENT_TYPE), disposeCommandCallback);\r\n    }\r\n}\r\n//# sourceMappingURL=contentComunicationHandler.js.map","/**\r\n * Configuration for retrieving a resource.\r\n */\r\nexport class ResourceConfiguration {\r\n    constructor() {\r\n        this.url = '';\r\n        this.isScript = true;\r\n        this.skip = () => { return false; };\r\n    }\r\n}\r\n//# sourceMappingURL=resourceConfiguration.js.map","/**\r\n * Facade to interface with the the root component.\r\n */\r\nexport class RootComponentFacade {\r\n    /**\r\n     * Constructor.\r\n     * @param signalDisposed The function to invoke to signal that the child was disposed.\r\n     */\r\n    constructor(signalDisposed) {\r\n        this.signalDisposed = signalDisposed;\r\n    }\r\n}\r\n//# sourceMappingURL=rootComponentFacade.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { RootComponentFacade } from './rootComponentFacade';\r\nimport { Component } from './component';\r\nimport { ComponentEventType } from './componentEvent';\r\n/**\r\n * The root component to host the rest of the components.\r\n * There is not limitation right no but ideally there should only be one of these on a page.\r\n */\r\nexport class RootComponent extends Component {\r\n    constructor(window, options) {\r\n        super(window, options);\r\n        this.children = {};\r\n    }\r\n    /**\r\n     * Schedule the disposing of the child on exiting the function.\r\n     * The dispose method is async but we do not want to wait for that.\r\n     * @param child The child that was disposed.\r\n     */\r\n    scheduleDisposeChild(child) {\r\n        // Schedule this later\r\n        this.getWindow().setTimeout(() => {\r\n            this.disposeChildByRef(child);\r\n        }, 0);\r\n    }\r\n    /**\r\n     * Dispose a child using it's reference.\r\n     * @param child\r\n     */\r\n    disposeChildByRef(child) {\r\n        return this.disposeChild(child.id);\r\n    }\r\n    /**\r\n     * Dispose a child by using it's id.\r\n     * @param childId The child identifyer.\r\n     */\r\n    disposeChild(childId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const child = this.getChild(childId);\r\n            if (!child)\r\n                return Promise.resolve();\r\n            yield child.dispose();\r\n            this.children[childId] = null;\r\n        });\r\n    }\r\n    /**\r\n     * @@inheritdoc\r\n     */\r\n    mountCore() {\r\n        this.callHandler(ComponentEventType.Mounted);\r\n        return super.mountCore();\r\n    }\r\n    /**\r\n     * Add a child component.\r\n     * @param options Child component options.\r\n     */\r\n    addChild(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.isInitialized)\r\n                throw new Error('Wait for the component to initilize before starting to add children.');\r\n            if (!this.isMounted)\r\n                throw new Error('Wait for the component to mount before starting to add children.');\r\n            const child = this.options.childFactory.createComponent(this.getWindow(), options, new RootComponentFacade(this.scheduleDisposeChild.bind(this)));\r\n            const id = (yield child.initialize()).id;\r\n            this.children[id] = child;\r\n            yield child.mount();\r\n            return id;\r\n        });\r\n    }\r\n    /**\r\n     * Get the child with the given identifier.\r\n     * @param id The child identifier.\r\n     */\r\n    getChild(id) {\r\n        return id ? (this.children[id] || null) : null;\r\n    }\r\n    /**\r\n     * Remove a child component.\r\n     * @param id The child component identifyer.\r\n     */\r\n    removeChild(id) {\r\n        return this.disposeChild(id);\r\n    }\r\n}\r\n//# sourceMappingURL=rootComponent.js.map","import { ComponentOptions } from \"./componentOptions\";\r\nimport { ChildComponentFactory } from \"./children/childComponentFactory\";\r\n/**\r\n * Options for the root component.\r\n */\r\nexport class RootComponentOptions extends ComponentOptions {\r\n    constructor() {\r\n        super();\r\n        this.tag = 'script';\r\n        this.childFactory = new ChildComponentFactory();\r\n    }\r\n}\r\n//# sourceMappingURL=rootComponentOptions.js.map"],"names":["ComponentEventType","this","CommunicationsEventKind","__awaiter","ChildComponentType"],"mappings":"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"}